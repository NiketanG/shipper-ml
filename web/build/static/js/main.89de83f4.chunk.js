(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var l=n(1),a=n.n(l),c=n(5),r=n.n(c),s=n(4),i=n.n(s),o=n(6),u=n(2),f=n(0),d=function(){var e=Object(l.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(l.useRef)(null),r=Object(l.useState)(null),s=Object(u.a)(r,2),d=s[0],x=s[1],m=Object(l.useState)(!1),p=Object(u.a)(m,2),b=p[0],j=p[1],g=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){var e=t.result;j(!1),x(e)}},h=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(n=new FormData).append("image",t),e.next=7,fetch("/detect",{method:"POST",body:n});case 7:if(200!==(l=e.sent).status){e.next=15;break}return e.next=11,l.blob();case 11:c=e.sent,g(c),e.next=18;break;case 15:a(null),x(null),j(!0);case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0),a(null),j(!0),x(null);case 26:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("section",{className:"text-gray-700 ",children:Object(f.jsxs)("div",{className:"container flex flex-col items-center px-5 py-8 mx-auto",children:[Object(f.jsxs)("div",{className:"flex flex-col w-full mb-12 text-left lg:text-center",children:[Object(f.jsx)("a",{href:"https://shipper-web.netlify.app",className:"mb-8 text-xs font-semibold tracking-widest text-black uppercase title-font",children:"Shipper ML"}),Object(f.jsx)("h1",{className:"mx-auto mb-12 text-2xl font-semibold leading-none tracking-tighter text-black lg:w-1/2 sm:text-6xl title-font",children:"Ship Detection using Satellite Imagery"}),d?Object(f.jsxs)("div",{className:"flex flex-col items-center",children:[Object(f.jsx)("button",{className:"bg-indigo-500 rounded w-full md:w-64 py-3 text-white font-medium",onClick:function(){a(null),x(null)},children:"Upload new image"}),Object(f.jsx)("p",{className:"text-xl text-black font-medium  mt-8 -mb-6",children:"Results:"})]}):Object(f.jsxs)("div",{onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files;if(t.length>0){var n=t[0];if("image/png"!==n.type&&"image/jpeg"!==n.type)return void alert("Upload Images only");console.log(t[0]),a(t[0]),h(t[0])}else a(null)},className:"w-full h-32 md:h-64 bg-blue-100 rounded flex flex-col items-center justify-center cursor-pointer relative",onClick:function(){var e;return null===n&&(null===(e=c.current)||void 0===e?void 0:e.click())},children:[Object(f.jsx)("label",{htmlFor:"file",className:"text-base md:text-xl font-medium text-center text-black p-4",children:n?"Uploading ".concat(n.name):"Select an Image or drop one here to detect"}),Object(f.jsx)("input",{accept:"image/png, image/jpeg",onChange:function(e){if(e&&e.target.files&&e.target.files.length>0){var t=e.target.files[0];if("image/png"!==t.type&&"image/jpeg"!==t.type)return void alert("Upload Images only");a(t),h(t)}else a(null)},ref:c,name:"file",type:"file",className:"w-full h-full bg-red-300 absolute",style:{visibility:"hidden"}})]})]}),b&&Object(f.jsx)("p",{className:"text-red-500 text-lg",children:"An error occured"}),Object(f.jsx)("div",{className:"flex flex-col md:flex-row w-full flex-wrap space-y-8 md:space-y-0",children:d&&Object(f.jsxs)("div",{className:"w-full flex flex-col space-y-4",children:[Object(f.jsx)("img",{src:d}),Object(f.jsx)("p",{children:"Detected Image"})]})})]})})};n(13);r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(d,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.89de83f4.chunk.js.map